import{c as d}from"./index-DNvr8n1Y.js";const l="https://ossyxxlplvqakowiwbok.supabase.co",f="sb_publishable_5iOa2uiY5e9dGvvGupyvwA_WWtCNmQT",s=d(l,f),u=(()=>{try{if(l&&l.includes("supabase.co"))return l.replace("supabase.co","functions.supabase.co")}catch{}return"/functions"})(),q={users:{list:()=>s.from("users").select("*").order("created_at",{ascending:!1}),get:e=>s.from("users").select("*").eq("id",e).single(),getByEmail:e=>s.from("users").select("*").eq("email",e).single(),update:(e,t)=>s.from("users").update(t).eq("id",e),delete:e=>s.from("users").delete().eq("id",e)},sites:{list:()=>s.from("sites").select("*").order("created_at",{ascending:!1}),get:e=>s.from("sites").select("*").eq("id",e).single(),filter:e=>{let t=s.from("sites").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t},create:e=>s.from("sites").insert(e).select().single(),update:(e,t)=>s.from("sites").update(t).eq("id",e),delete:e=>s.from("sites").delete().eq("id",e)},plugins:{list:()=>s.from("plugins").select("*").order("updated_at",{ascending:!1}),get:e=>s.from("plugins").select("*").eq("id",e).single(),filter:e=>{let t=s.from("plugins").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t},create:e=>s.from("plugins").insert(e).select().single(),update:(e,t)=>s.from("plugins").update(t).eq("id",e),delete:e=>s.from("plugins").delete().eq("id",e)},themes:{list:()=>s.from("themes").select("*").order("created_at",{ascending:!1}),get:e=>s.from("themes").select("*").eq("id",e).single(),filter:e=>{let t=s.from("themes").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t},create:e=>s.from("themes").insert(e).select().single(),update:(e,t)=>s.from("themes").update(t).eq("id",e),delete:e=>s.from("themes").delete().eq("id",e)},teams:{list:()=>s.from("teams").select("*").order("created_at",{ascending:!1}),get:e=>s.from("teams").select("*").eq("id",e).single(),filter:e=>{let t=s.from("teams").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t},create:e=>s.from("teams").insert(e).select().single(),update:(e,t)=>s.from("teams").update(t).eq("id",e),delete:e=>s.from("teams").delete().eq("id",e)},teamRoles:{list:()=>s.from("team_roles").select("*"),filter:e=>{let t=s.from("team_roles").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t},create:e=>s.from("team_roles").insert(e).select().single(),update:(e,t)=>s.from("team_roles").update(t).eq("id",e)},projects:{list:()=>s.from("projects").select("*").order("created_at",{ascending:!1}),get:e=>s.from("projects").select("*").eq("id",e).single(),filter:e=>{let t=s.from("projects").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t},create:e=>s.from("projects").insert(e).select().single(),update:(e,t)=>s.from("projects").update(t).eq("id",e),delete:e=>s.from("projects").delete().eq("id",e)},projectTemplates:{list:()=>s.from("project_templates").select("*").order("updated_at",{ascending:!1}),filter:e=>{let t=s.from("project_templates").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t},create:e=>s.from("project_templates").insert(e).select().single(),update:(e,t)=>s.from("project_templates").update(t).eq("id",e),delete:e=>s.from("project_templates").delete().eq("id",e)},messages:{list:()=>s.from("messages").select("*").order("created_at",{ascending:!1}),filter:e=>{let t=s.from("messages").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t},create:e=>s.from("messages").insert(e).select().single(),update:(e,t)=>s.from("messages").update(t).eq("id",e),delete:e=>s.from("messages").delete().eq("id",e)},notifications:{list:()=>s.from("notifications").select("*").order("created_at",{ascending:!1}),filter:e=>{let t=s.from("notifications").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t.order("created_at",{ascending:!1})},create:e=>s.from("notifications").insert(e).select().single(),update:(e,t)=>s.from("notifications").update(t).eq("id",e),delete:e=>s.from("notifications").delete().eq("id",e)},activityLogs:{list:()=>s.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(50),filter:e=>{let t=s.from("activity_logs").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t.order("created_at",{ascending:!1})},create:e=>s.from("activity_logs").insert(e).select().single()},supportTickets:{list:()=>s.from("support_tickets").select("*").order("created_at",{ascending:!1}),filter:e=>{let t=s.from("support_tickets").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t},create:e=>s.from("support_tickets").insert(e).select().single(),update:(e,t)=>s.from("support_tickets").update(t).eq("id",e)},subscriptionPlans:{list:()=>s.from("subscription_plans").select("*").order("sort_order",{ascending:!0}),filter:e=>{let t=s.from("subscription_plans").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t}},userSubscriptions:{list:()=>s.from("user_subscriptions").select("*").order("created_at",{ascending:!1}),filter:e=>{let t=s.from("user_subscriptions").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t},create:e=>s.from("user_subscriptions").insert(e).select().single(),update:(e,t)=>s.from("user_subscriptions").update(t).eq("id",e),delete:e=>s.from("user_subscriptions").delete().eq("id",e)},invoices:{list:()=>s.from("invoices").select("*").order("created_at",{ascending:!1}),filter:e=>{let t=s.from("invoices").select("*");return Object.entries(e).forEach(([r,a])=>{t=t.eq(r,a)}),t}},siteSettings:{list:()=>s.from("site_settings").select("*"),get:e=>s.from("site_settings").select("*").eq("setting_key",e).single(),update:(e,t)=>s.from("site_settings").upsert({setting_key:e,setting_value:t})},connectors:{list:()=>s.from("connectors").select("*").order("created_at",{ascending:!1}),getLatest:()=>s.from("connectors").select("*").order("created_at",{ascending:!1}).limit(1).single()}},m={User:{async list(){const{data:e,error:t}=await s.from("users").select("*");if(t)throw t;return e||[]},async get(e){const{data:t,error:r}=await s.from("users").select("*").eq("id",e).single();if(r)throw r;return t},async filter(e){let t=s.from("users").select("*");Object.entries(e).forEach(([o,i])=>{t=t.eq(o,i)});const{data:r,error:a}=await t;if(a)throw a;return r||[]},async create(e){const{data:t,error:r}=await s.from("users").insert(e).select().single();if(r)throw r;return t},async update(e,t){const{data:r,error:a}=await s.from("users").update(t).eq("id",e).select().single();if(a)throw a;return r},async delete(e){const{error:t}=await s.from("users").delete().eq("id",e);if(t)throw t}},Site:{async list(e="-created_at",t=1e3){const{data:r,error:a}=await s.from("sites").select("*").order("created_at",{ascending:!1}).limit(t);if(a)throw a;return r||[]},async get(e){const{data:t,error:r}=await s.from("sites").select("*").eq("id",e).single();if(r)throw r;return t},async filter(e,t="-created_at",r=1e3){let a=s.from("sites").select("*");Object.entries(e).forEach(([n,c])=>{a=a.eq(n,c)}),a=a.order("created_at",{ascending:!1}),r&&(a=a.limit(r));const{data:o,error:i}=await a;if(i)throw i;return o||[]},async create(e){const{data:t,error:r}=await s.from("sites").insert(e).select().single();if(r)throw r;return t},async update(e,t){const{data:r,error:a}=await s.from("sites").update(t).eq("id",e).select().single();if(a)throw a;return r},async delete(e){const{error:t}=await s.from("sites").delete().eq("id",e);if(t)throw t}},Plugin:{async list(e="-created_at",t=1e3){const{data:r,error:a}=await s.from("plugins").select("*").order("created_at",{ascending:!1}).limit(t);if(a)throw a;return r||[]},async get(e){const{data:t,error:r}=await s.from("plugins").select("*").eq("id",e).single();if(r)throw r;return t},async filter(e,t="-created_at",r=1e3){let a=s.from("plugins").select("*");Object.entries(e).forEach(([n,c])=>{a=a.eq(n,c)}),a=a.order("created_at",{ascending:!1}),r&&(a=a.limit(r));const{data:o,error:i}=await a;if(i)throw i;return o||[]},async create(e){const{data:t,error:r}=await s.from("plugins").insert(e).select().single();if(r)throw r;return t},async update(e,t){const{data:r,error:a}=await s.from("plugins").update(t).eq("id",e).select().single();if(a)throw a;return r},async delete(e){const{error:t}=await s.from("plugins").delete().eq("id",e);if(t)throw t}},Theme:{async list(e="-created_at",t=1e3){const{data:r,error:a}=await s.from("themes").select("*").order("created_at",{ascending:!1}).limit(t);if(a)throw a;return r||[]},async get(e){const{data:t,error:r}=await s.from("themes").select("*").eq("id",e).single();if(r)throw r;return t},async filter(e,t="-created_at",r=1e3){let a=s.from("themes").select("*");Object.entries(e).forEach(([n,c])=>{a=a.eq(n,c)}),a=a.order("created_at",{ascending:!1}),r&&(a=a.limit(r));const{data:o,error:i}=await a;if(i)throw i;return o||[]},async create(e){const{data:t,error:r}=await s.from("themes").insert(e).select().single();if(r)throw r;return t},async update(e,t){const{data:r,error:a}=await s.from("themes").update(t).eq("id",e).select().single();if(a)throw a;return r},async delete(e){const{error:t}=await s.from("themes").delete().eq("id",e);if(t)throw t}},Team:{async list(){const{data:e,error:t}=await s.from("teams").select("*");if(t)throw t;return e||[]},async get(e){const{data:t,error:r}=await s.from("teams").select("*").eq("id",e).single();if(r)throw r;return t},async filter(e){let t=s.from("teams").select("*");Object.entries(e).forEach(([o,i])=>{t=t.eq(o,i)});const{data:r,error:a}=await t;if(a)throw a;return r||[]},async create(e){const{data:t,error:r}=await s.from("teams").insert(e).select().single();if(r)throw r;return t},async update(e,t){const{data:r,error:a}=await s.from("teams").update(t).eq("id",e).select().single();if(a)throw a;return r},async delete(e){const{error:t}=await s.from("teams").delete().eq("id",e);if(t)throw t}},Project:{async list(){const{data:e,error:t}=await s.from("projects").select("*");if(t)throw t;return e||[]},async get(e){const{data:t,error:r}=await s.from("projects").select("*").eq("id",e).single();if(r)throw r;return t},async filter(e){let t=s.from("projects").select("*");Object.entries(e).forEach(([o,i])=>{t=t.eq(o,i)});const{data:r,error:a}=await t;if(a)throw a;return r||[]},async create(e){const{data:t,error:r}=await s.from("projects").insert(e).select().single();if(r)throw r;return t},async update(e,t){const{data:r,error:a}=await s.from("projects").update(t).eq("id",e).select().single();if(a)throw a;return r},async delete(e){const{error:t}=await s.from("projects").delete().eq("id",e);if(t)throw t}},Message:{async list(){const{data:e,error:t}=await s.from("messages").select("*");if(t)throw t;return e||[]},async get(e){const{data:t,error:r}=await s.from("messages").select("*").eq("id",e).single();if(r)throw r;return t},async filter(e){let t=s.from("messages").select("*");Object.entries(e).forEach(([o,i])=>{t=t.eq(o,i)});const{data:r,error:a}=await t;if(a)throw a;return r||[]},async create(e){const{data:t,error:r}=await s.from("messages").insert(e).select().single();if(r)throw r;return t},async update(e,t){const{data:r,error:a}=await s.from("messages").update(t).eq("id",e).select().single();if(a)throw a;return r},async delete(e){const{error:t}=await s.from("messages").delete().eq("id",e);if(t)throw t}},Notification:{async list(){const{data:e,error:t}=await s.from("notifications").select("*");if(t)throw t;return e||[]},async get(e){const{data:t,error:r}=await s.from("notifications").select("*").eq("id",e).single();if(r)throw r;return t},async filter(e){let t=s.from("notifications").select("*");Object.entries(e).forEach(([o,i])=>{t=t.eq(o,i)});const{data:r,error:a}=await t;if(a)throw a;return r||[]},async create(e){const{data:t,error:r}=await s.from("notifications").insert(e).select().single();if(r)throw r;return t},async update(e,t){const{data:r,error:a}=await s.from("notifications").update(t).eq("id",e).select().single();if(a)throw a;return r},async delete(e){const{error:t}=await s.from("notifications").delete().eq("id",e);if(t)throw t}},ActivityLog:{async list(){const{data:e,error:t}=await s.from("activity_logs").select("*");if(t)throw t;return e||[]},async get(e){const{data:t,error:r}=await s.from("activity_logs").select("*").eq("id",e).single();if(r)throw r;return t},async filter(e){let t=s.from("activity_logs").select("*");Object.entries(e).forEach(([o,i])=>{t=t.eq(o,i)});const{data:r,error:a}=await t;if(a)throw a;return r||[]},async create(e){const{data:t,error:r}=await s.from("activity_logs").insert(e).select().single();if(r)throw r;return t},async update(e,t){const{data:r,error:a}=await s.from("activity_logs").update(t).eq("id",e).select().single();if(a)throw a;return r},async delete(e){const{error:t}=await s.from("activity_logs").delete().eq("id",e);if(t)throw t}},SiteSettings:{async list(){const{data:e,error:t}=await s.from("site_settings").select("*");if(t)throw t;return e||[]},async get(e){const{data:t,error:r}=await s.from("site_settings").select("*").eq("id",e).single();if(r)throw r;return t},async filter(e){let t=s.from("site_settings").select("*");Object.entries(e).forEach(([o,i])=>{t=t.eq(o,i)});const{data:r,error:a}=await t;if(a)throw a;return r||[]},async create(e){const{data:t,error:r}=await s.from("site_settings").insert(e).select().single();if(r)throw r;return t},async update(e,t){const{data:r,error:a}=await s.from("site_settings").update(t).eq("id",e).select().single();if(a)throw a;return r},async delete(e){const{error:t}=await s.from("site_settings").delete().eq("id",e);if(t)throw t}}},g={async me(){const{data:{user:e}}=await s.auth.getUser();if(e){const{data:t}=await s.from("users").select("*").eq("email",e.email).single();return t||e}return null},async updateMe(e){const{data:{user:t}}=await s.auth.getUser();if(t){const{data:r,error:a}=await s.from("users").update(e).eq("email",t.email).select().single();if(a)throw a;return r}throw new Error("No authenticated user")},async logout(){const{error:e}=await s.auth.signOut();if(e)throw e}},w={async invoke(e,t={}){const{data:{session:r}}=await s.auth.getSession(),a=(r==null?void 0:r.access_token)||null,o=`${u.replace(/\/$/,"")}/${e}`,i=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify(t)});let n;try{n=await i.json()}catch{n=null}if(!i.ok)throw Object.assign(new Error(`Function ${e} invoke failed: ${i.status}`),{response:n});return{data:n}}},p={Core:{async UploadFile({file:e,bucket:t="uploads"}){const r=`${Date.now()}-${e.name}`,{data:a,error:o}=await s.storage.from(t).upload(r,e);if(o)throw o;const{data:{publicUrl:i}}=s.storage.from(t).getPublicUrl(r);return{file_url:i}}}},y={async run(e,t={}){return console.warn("Query.run not implemented - use direct Supabase queries"),[]}},_={entities:m,auth:g,functions:w,integrations:p,Query:y};export{s as supabase,_ as supabaseClientDirect,u as supabaseFunctionsUrl,q as supabaseQueries};
