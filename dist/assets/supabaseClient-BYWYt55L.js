import{c as d}from"./index-Dtuxxz1h.js";const l="https://ossyxxlplvqakowiwbok.supabase.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9zc3l4eGxwbHZxYWtvd2l3Ym9rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4MzYyNjgsImV4cCI6MjA4MTQxMjI2OH0.u8KsxzlJmmYbCdC8yErM0hBM0m3-S800XdnPAOCvkMg",s=d(l,f),u=(()=>{try{if(l&&l.includes("supabase.co"))return l.replace("supabase.co","functions.supabase.co")}catch{}return"/functions"})(),q={users:{list:()=>s.from("users").select("*").order("created_at",{ascending:!1}),get:t=>s.from("users").select("*").eq("id",t).single(),getByEmail:t=>s.from("users").select("*").eq("email",t).single(),update:(t,e)=>s.from("users").update(e).eq("id",t),delete:t=>s.from("users").delete().eq("id",t)},sites:{list:()=>s.from("sites").select("*").order("created_at",{ascending:!1}),get:t=>s.from("sites").select("*").eq("id",t).single(),filter:t=>{let e=s.from("sites").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e},create:t=>s.from("sites").insert(t).select().single(),update:(t,e)=>s.from("sites").update(e).eq("id",t),delete:t=>s.from("sites").delete().eq("id",t)},plugins:{list:()=>s.from("plugins").select("*").order("updated_at",{ascending:!1}),get:t=>s.from("plugins").select("*").eq("id",t).single(),filter:t=>{let e=s.from("plugins").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e},create:t=>s.from("plugins").insert(t).select().single(),update:(t,e)=>s.from("plugins").update(e).eq("id",t),delete:t=>s.from("plugins").delete().eq("id",t)},themes:{list:()=>s.from("themes").select("*").order("created_at",{ascending:!1}),get:t=>s.from("themes").select("*").eq("id",t).single(),filter:t=>{let e=s.from("themes").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e},create:t=>s.from("themes").insert(t).select().single(),update:(t,e)=>s.from("themes").update(e).eq("id",t),delete:t=>s.from("themes").delete().eq("id",t)},teams:{list:()=>s.from("teams").select("*").order("created_at",{ascending:!1}),get:t=>s.from("teams").select("*").eq("id",t).single(),filter:t=>{let e=s.from("teams").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e},create:t=>s.from("teams").insert(t).select().single(),update:(t,e)=>s.from("teams").update(e).eq("id",t),delete:t=>s.from("teams").delete().eq("id",t)},teamRoles:{list:()=>s.from("team_roles").select("*"),filter:t=>{let e=s.from("team_roles").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e},create:t=>s.from("team_roles").insert(t).select().single(),update:(t,e)=>s.from("team_roles").update(e).eq("id",t)},projects:{list:()=>s.from("projects").select("*").order("created_at",{ascending:!1}),get:t=>s.from("projects").select("*").eq("id",t).single(),filter:t=>{let e=s.from("projects").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e},create:t=>s.from("projects").insert(t).select().single(),update:(t,e)=>s.from("projects").update(e).eq("id",t),delete:t=>s.from("projects").delete().eq("id",t)},projectTemplates:{list:()=>s.from("project_templates").select("*").order("updated_at",{ascending:!1}),filter:t=>{let e=s.from("project_templates").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e},create:t=>s.from("project_templates").insert(t).select().single(),update:(t,e)=>s.from("project_templates").update(e).eq("id",t),delete:t=>s.from("project_templates").delete().eq("id",t)},messages:{list:()=>s.from("messages").select("*").order("created_at",{ascending:!1}),filter:t=>{let e=s.from("messages").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e},create:t=>s.from("messages").insert(t).select().single(),update:(t,e)=>s.from("messages").update(e).eq("id",t),delete:t=>s.from("messages").delete().eq("id",t)},notifications:{list:()=>s.from("notifications").select("*").order("created_at",{ascending:!1}),filter:t=>{let e=s.from("notifications").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e.order("created_at",{ascending:!1})},create:t=>s.from("notifications").insert(t).select().single(),update:(t,e)=>s.from("notifications").update(e).eq("id",t),delete:t=>s.from("notifications").delete().eq("id",t)},activityLogs:{list:()=>s.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(50),filter:t=>{let e=s.from("activity_logs").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e.order("created_at",{ascending:!1})},create:t=>s.from("activity_logs").insert(t).select().single()},supportTickets:{list:()=>s.from("support_tickets").select("*").order("created_at",{ascending:!1}),filter:t=>{let e=s.from("support_tickets").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e},create:t=>s.from("support_tickets").insert(t).select().single(),update:(t,e)=>s.from("support_tickets").update(e).eq("id",t)},subscriptionPlans:{list:()=>s.from("subscription_plans").select("*").order("sort_order",{ascending:!0}),filter:t=>{let e=s.from("subscription_plans").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e}},userSubscriptions:{list:()=>s.from("user_subscriptions").select("*").order("created_at",{ascending:!1}),filter:t=>{let e=s.from("user_subscriptions").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e},create:t=>s.from("user_subscriptions").insert(t).select().single(),update:(t,e)=>s.from("user_subscriptions").update(e).eq("id",t),delete:t=>s.from("user_subscriptions").delete().eq("id",t)},invoices:{list:()=>s.from("invoices").select("*").order("created_at",{ascending:!1}),filter:t=>{let e=s.from("invoices").select("*");return Object.entries(t).forEach(([r,a])=>{e=e.eq(r,a)}),e}},siteSettings:{list:()=>s.from("site_settings").select("*"),get:t=>s.from("site_settings").select("*").eq("setting_key",t).single(),update:(t,e)=>s.from("site_settings").upsert({setting_key:t,setting_value:e})},connectors:{list:()=>s.from("connectors").select("*").order("created_at",{ascending:!1}),getLatest:()=>s.from("connectors").select("*").order("created_at",{ascending:!1}).limit(1).single()}},m={User:{async list(){const{data:t,error:e}=await s.from("users").select("*");if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("users").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("users").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("users").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("users").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("users").delete().eq("id",t);if(e)throw e}},Site:{async list(t="-created_at",e=1e3){const{data:r,error:a}=await s.from("sites").select("*").order("created_at",{ascending:!1}).limit(e);if(a)throw a;return r||[]},async get(t){const{data:e,error:r}=await s.from("sites").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t,e="-created_at",r=1e3){let a=s.from("sites").select("*");Object.entries(t).forEach(([n,c])=>{a=a.eq(n,c)}),a=a.order("created_at",{ascending:!1}),r&&(a=a.limit(r));const{data:i,error:o}=await a;if(o)throw o;return i||[]},async create(t){const{data:e,error:r}=await s.from("sites").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("sites").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("sites").delete().eq("id",t);if(e)throw e}},Plugin:{async list(t="-created_at",e=1e3){const{data:r,error:a}=await s.from("plugins").select("*").order("created_at",{ascending:!1}).limit(e);if(a)throw a;return r||[]},async get(t){const{data:e,error:r}=await s.from("plugins").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t,e="-created_at",r=1e3){let a=s.from("plugins").select("*");Object.entries(t).forEach(([n,c])=>{a=a.eq(n,c)}),a=a.order("created_at",{ascending:!1}),r&&(a=a.limit(r));const{data:i,error:o}=await a;if(o)throw o;return i||[]},async create(t){const{data:e,error:r}=await s.from("plugins").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("plugins").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("plugins").delete().eq("id",t);if(e)throw e}},Theme:{async list(t="-created_at",e=1e3){const{data:r,error:a}=await s.from("themes").select("*").order("created_at",{ascending:!1}).limit(e);if(a)throw a;return r||[]},async get(t){const{data:e,error:r}=await s.from("themes").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t,e="-created_at",r=1e3){let a=s.from("themes").select("*");Object.entries(t).forEach(([n,c])=>{a=a.eq(n,c)}),a=a.order("created_at",{ascending:!1}),r&&(a=a.limit(r));const{data:i,error:o}=await a;if(o)throw o;return i||[]},async create(t){const{data:e,error:r}=await s.from("themes").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("themes").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("themes").delete().eq("id",t);if(e)throw e}},Team:{async list(){const{data:t,error:e}=await s.from("teams").select("*");if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("teams").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("teams").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("teams").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("teams").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("teams").delete().eq("id",t);if(e)throw e}},Project:{async list(){const{data:t,error:e}=await s.from("projects").select("*");if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("projects").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("projects").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("projects").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("projects").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("projects").delete().eq("id",t);if(e)throw e}},Message:{async list(){const{data:t,error:e}=await s.from("messages").select("*");if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("messages").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("messages").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("messages").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("messages").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("messages").delete().eq("id",t);if(e)throw e}},Notification:{async list(){const{data:t,error:e}=await s.from("notifications").select("*");if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("notifications").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("notifications").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("notifications").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("notifications").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("notifications").delete().eq("id",t);if(e)throw e}},ActivityLog:{async list(){const{data:t,error:e}=await s.from("activity_logs").select("*");if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("activity_logs").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("activity_logs").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("activity_logs").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("activity_logs").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("activity_logs").delete().eq("id",t);if(e)throw e}},SiteSettings:{async list(){const{data:t,error:e}=await s.from("site_settings").select("*");if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("site_settings").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("site_settings").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("site_settings").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("site_settings").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("site_settings").delete().eq("id",t);if(e)throw e}},Connector:{async list(){const{data:t,error:e}=await s.from("connectors").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("connectors").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("connectors").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e.order("created_at",{ascending:!1});if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("connectors").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("connectors").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("connectors").delete().eq("id",t);if(e)throw e}},TeamInvite:{async list(){const{data:t,error:e}=await s.from("team_invites").select("*");if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("team_invites").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("team_invites").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("team_invites").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("team_invites").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("team_invites").delete().eq("id",t);if(e)throw e}},TeamRole:{async list(){const{data:t,error:e}=await s.from("team_roles").select("*");if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("team_roles").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("team_roles").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("team_roles").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("team_roles").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("team_roles").delete().eq("id",t);if(e)throw e}},Role:{async list(t="-created_date"){const{data:e,error:r}=await s.from("roles").select("*").order("created_at",{ascending:!1});if(r)throw r;return e||[]},async get(t){const{data:e,error:r}=await s.from("roles").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("roles").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("roles").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("roles").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("roles").delete().eq("id",t);if(e)throw e}},SubscriptionPlan:{async list(){const{data:t,error:e}=await s.from("subscription_plans").select("*");if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("subscription_plans").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("subscription_plans").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("subscription_plans").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("subscription_plans").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("subscription_plans").delete().eq("id",t);if(e)throw e}},UserSubscription:{async list(){const{data:t,error:e}=await s.from("user_subscriptions").select("*");if(e)throw e;return t||[]},async get(t){const{data:e,error:r}=await s.from("user_subscriptions").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("user_subscriptions").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("user_subscriptions").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("user_subscriptions").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("user_subscriptions").delete().eq("id",t);if(e)throw e}},ProjectTemplate:{async list(t="-updated_date"){const{data:e,error:r}=await s.from("project_templates").select("*").order("updated_at",{ascending:!1});if(r)throw r;return e||[]},async get(t){const{data:e,error:r}=await s.from("project_templates").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t,e="-updated_date"){let r=s.from("project_templates").select("*");Object.entries(t).forEach(([o,n])=>{r=r.eq(o,n)});const{data:a,error:i}=await r.order("updated_at",{ascending:!1});if(i)throw i;return a||[]},async create(t){const{data:e,error:r}=await s.from("project_templates").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("project_templates").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("project_templates").delete().eq("id",t);if(e)throw e}},PlanGroup:{async list(t="sort_order"){const{data:e,error:r}=await s.from("plan_groups").select("*").order("sort_order",{ascending:!0});if(r)throw r;return e||[]},async get(t){const{data:e,error:r}=await s.from("plan_groups").select("*").eq("id",t).single();if(r)throw r;return e},async filter(t){let e=s.from("plan_groups").select("*");Object.entries(t).forEach(([i,o])=>{e=e.eq(i,o)});const{data:r,error:a}=await e;if(a)throw a;return r||[]},async create(t){const{data:e,error:r}=await s.from("plan_groups").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:a}=await s.from("plan_groups").update(e).eq("id",t).select().single();if(a)throw a;return r},async delete(t){const{error:e}=await s.from("plan_groups").delete().eq("id",t);if(e)throw e}}},w={async me(){const{data:{user:t}}=await s.auth.getUser();if(t){const{data:e}=await s.from("users").select("*").eq("email",t.email).single();return e||t}return null},async updateMe(t){const{data:{user:e}}=await s.auth.getUser();if(e){const{data:r,error:a}=await s.from("users").update(t).eq("email",e.email).select().single();if(a)throw a;return r}throw new Error("No authenticated user")},async logout(){const{error:t}=await s.auth.signOut();if(t)throw t}},p={async invoke(t,e={}){const{data:{session:r}}=await s.auth.getSession(),a=(r==null?void 0:r.access_token)||null,i=`${u.replace(/\/$/,"")}/${t}`,o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify(e)});let n;try{n=await o.json()}catch{n=null}if(!o.ok)throw Object.assign(new Error(`Function ${t} invoke failed: ${o.status}`),{response:n});return{data:n}}},g={Core:{async UploadFile({file:t,bucket:e="uploads"}){const r=`${Date.now()}-${t.name}`,{data:a,error:i}=await s.storage.from(e).upload(r,t);if(i)throw i;const{data:{publicUrl:o}}=s.storage.from(e).getPublicUrl(r);return{file_url:o}}}},y={async run(t,e={}){return console.warn("Query.run not implemented - use direct Supabase queries"),[]}},_={entities:m,auth:w,functions:p,integrations:g,Query:y};export{s as supabase,_ as supabaseClientDirect,u as supabaseFunctionsUrl,q as supabaseQueries};
